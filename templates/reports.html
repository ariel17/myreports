{% extends "base.html" %}

{% block title %}Reports for {{ server.name }}{% endblock %}

{% block body %}

<table border="0">
    {% for r in server.reports.all %}
        <tr><td><h1>{{ r.title }}</h1></td></tr>
        {% for s in r.sections.all %}
            <tr>
                <td></td>
            </tr>
            <tr>
                <td><h2>{{ s.title }}</h2></td>
            </tr>
            <tr>
                <td>Check type: {% if not s.period %}Current values{% else %}Every {{ s.period }} seconds{% endif %}.</td>
            </tr>
            <tr>
                <td>
                    <table border="1">
                        <tr>
                            <td><b>Variable</b></td>
                            <td></td>
                            <td><b>Value</b></td>
                            {% if s.period %}
                                <td><b>Date</b></td>
                            {% endif %}
                        </tr>
                        {% for sectionid, snapshots in sections.items %}
                            {% if sectionid == s.id %}
                                {% for s in snapshots %}
                                    <tr>
                                        <td>{{ s.variable.name }}</td>
                                        <td></td>
                                        <td>{{ s.value }}</td>
                                        {% if not s.period %}
                                            <td>{{ s.time }}</td>
                                        {% endif %}
                                    </tr>
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </table>                        
                </td>                    
            </tr>
        {% endfor %}
    {% endfor %}
</table>

{% endblock %}
